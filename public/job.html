
<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Family Responsibilities</title>
  <link rel="stylesheet" type="text/css" href="stylesheets/main.css">
  </head>

<body onload="console.log('job.html page loaded')">

  <section>
    <h2>Select</h2>

      <button onclick="daily()">Daily</button>
      <p><button onclick="week()">Weekly</button></p>
      <button onclick="monthly()">Monthly</button>


    <!-- <iframe src="www.google.com"> Does this work? </iframe>
    <iframe src="www.google.com"> Does this work? </iframe>
    <iframe src="pages/monthly"> Does this work? </iframe>
    <iframe src="pages/daily"> Does this work? </iframe> -->

    <section id="persons"></section>

    <section id="daily">
      <h1>Daily jobs</h1>

      <form action="selectMember()">
       <!-- <select id="dropdown" name="dropdown"> 
          <option >Select a member</option>
          <% for (var i = 0; i < member.length; i++) { %>
            <option value='<%=member[i].firstname%>' 
              onfocus="selectMember('<%=member[i].firstname%>')"><%=member[i].firstname%></option>
          <% } %>
        
        </select> -->
        <!-- <input type="submit"> -->
      </form>
      <ul id="list">
          <% member.forEach(function(m) { %>
              <li><input type="button" onclick="selectMember('<%=m.firstname%>')" value="<%=m.firstname%>">
                <!-- <%= m.id %> - <%= m.firstname%> -->
              </li>
          <% }); %>
      </ul>
      <div id="jobs">
      </div>
    
    </section>

    <section id="week">

        <h1>Family responsibilities</h1>
      
        <form action="/populate">
          <table>
            <tr><th></th>
              <th>Sunday</th>
              <th>Monday</th>
              <th>Tuesday</th>
              <th>Wednesday</th>
              <th>Thursday</th>
              <th>Friday</th>
              <th>Saturday</th>
            </tr>
            <tr>
              <td></td>
              <td></td>
              <td></td>
              <td></td>
              <td></td>
              <td></td>
              <td></td>
              <td></td>
            </tr>
            <tr>
              <td>Empty the dishwasher</td>
              <td</td>
              <td></td>
              <td></td>
              <td></td>
              <td></td>
              <td></td>
              <td></td>
            </tr>
      
            <tr class="five">
              <td colspan="8">5 minutes</td>
            </tr>
            <tr class="five">
              <td>playroom</td>
              <td></td>
              <td></td>
              <td></td>
              <td></td>
              <td></td>
              <td></td>
              <td></td>
            </tr>
            <tr class="five">
              <td></td>
              <td></td>
              <td></td>
              <td></td>
              <td></td>
              <td></td>
              <td></td>
              <td></td>
            </tr>
            <tr class="five">
              <td>Outside</td>
              <td></td>
              <td></td>
              <td></td>
              <td></td>
              <td></td>
              <td></td>
              <td></td>
            </tr>
            <tr class="five">
              <td></td>
              <td></td>
              <td></td>
              <td></td>
              <td></td>
              <td></td>
              <td></td>
              <td></td>
            </tr>
        
            <tr>
              <td>Complete together</td>
              <td></td>
              <td></td>
              <td></td>
              <td></td>
              <td>Special Projects</td>
              <td></td>
              <td>bathroom</td>
            </tr>
            <tr>
              <td></td>
              <td></td>
              <td></td>
              <td></td>
              <td></td>
              <td></td>
              <td></td>
              <td></td>
            </tr>
            <tr>
              <td>Clear and wipe the table</td>
              <td></td>
              <td></td>
              <td></td>
              <td></td>
              <td></td>
              <td></td>
              <td></td>
            </tr>
            <tr>
              <td>Wash the dishes</td>
              <td></td>
              <td></td>
              <td></td>
              <td></td>
              <td></td>
              <td></td>
              <td></td>
            </tr>
      
      
          </table>
        </form>
      
    </section>

    <section id="month">
      <h2>Monthly jobs</h2>

      <ul>
        <li style="list-style-type: none">Date: Job - member</li>
        <!-- <li><%=date[0]%>: <%=job[10].jobname%> - <span class='<%=member[5].firstname%>'><%=member[5].firstname%></span></li>
        <li><%=date[1]%>: <%=job[11].jobname%> - <%=member[6].firstname%></li>
        <li><%=date[2]%>: <%=job[12].jobname%> - <%=member[1].firstname%></li>
        <li><%=date[3]%>: <%=job[13].jobname%> - <span class='<%=member[4].firstname%>'><%=member[4].firstname%></span></li> -->
      </ul>
    
      <!-- <form action="/add" method="post">
        Date: <input type="text" id="date" name="date"><br>
        Job: <input type="text" id="job" name="job"><br>
        Assigned to:<input type="text" id="assigned" name="assigned"><br>
        <input type="submit" value="Add the job"><br>
      </form> -->
    
    </section>

<script>

    //this function displays the Daily jobs
    function daily() { 
      console.log('daily() called');
      //show the correct table
      document.getElementById('daily').style.display = "initial";
      document.getElementById('week').style.display  = "none";
      document.getElementById('month').style.display = "none";

      document.body.style.backgroundColor = "lightblue";

      //get the assignments from the database
      var xmlHttpRequest = new XMLHttpRequest();
      xmlHttpRequest.onreadystatechange = function() {
        if ( xmlHttpRequest.readyState == XMLHttpRequest.DONE && xmlHttpRequest.status == 200 ) {

          //manipulate the DOM with the assignments 
          console.log('inside daily if statement');
          var data = JSON.parse(xmlHttpRequest.responseText);

          var item = document.createElement('li');
          var iButton = document.createElement('button');
          iButton.innerHTML = data.member[0].firstname;
          iButton.addEventListener(onclick, 'selectMember(' + params.member[0].firstname + ')');
          item.appendChild(iButton);

          list.appendChild(item);
          

              // <li><input type="button" onclick="selectMember('<%=m.firstname%>')" value="<%=m.firstname%>">


          document.getElementById("persons").innerHTML = xmlHttpRequest.responseText;
        }
      };

      //the json is from the database here
      xmlHttpRequest.open('GET', 'https://nate-node.herokuapp.com/daily', true);
      xmlHttpRequest.send();

    }


    // this function displays the Weekly job assignments
    function week() { 
      console.log('week() called');
      //show the correct table
      document.getElementById('daily').style.display = "none";
      document.getElementById('week').style.display  = "initial";
      document.getElementById('month').style.display = "none";

      document.body.style.backgroundColor = "lightskyblue";

      //get the assignments from the database
      var xmlHttpRequest = new XMLHttpRequest();
      xmlHttpRequest.onreadystatechange = function() {
        if ( xmlHttpRequest.readyState == XMLHttpRequest.DONE && xmlHttpRequest.status == 200 ) {

          //manipulate the DOM with the assignments 
          console.log('inside if statement');
          document.getElementById("persons").innerHTML = xmlHttpRequest.responseText;
        }
      };

      //the json is from the database here
      xmlHttpRequest.open('GET', 'https://nate-node.herokuapp.com/week', true);
      xmlHttpRequest.send();
    }


    //this displays the weekly jobs
    function monthly() { 
      console.log('monthly() called');
      //show the correct table
      document.getElementById('daily').style.display = "none";
      document.getElementById('week').style.display  = "none";
      document.getElementById('month').style.display = "initial";

      document.body.style.backgroundColor = "rgb(155, 226, 240)";


      //get the assignments from the database
      var xmlHttpRequest = new XMLHttpRequest();
      xmlHttpRequest.onreadystatechange = function() {
        if ( xmlHttpRequest.readyState == XMLHttpRequest.DONE && xmlHttpRequest.status == 200 ) {

          //manipulate the DOM with the assignments 
          console.log('inside if statement');
          document.getElementById("persons").innerHTML = xmlHttpRequest.responseText;
        }
      };

      //the json is from the database here
      xmlHttpRequest.open('GET', 'https://nate-node.herokuapp.com/monthly', true);
      xmlHttpRequest.send();
    }

  </script>
</body>
</html>