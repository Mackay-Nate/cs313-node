
<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Family Responsibilities</title>
  <link rel="stylesheet" type="text/css" href="stylesheets/main.css">
  </head>

<body onload="console.log('job.html page loaded')">

  <section>
    <h2>Select</h2>

      <button onclick="daily()">Daily</button><br>
      <button onclick="week()">Weekly</button><br>
      <button onclick="monthly()">Monthly</button><br>

    <section id="persons"></section>

    <!-- display section for daily jobs -->
    <section id="daily">
      <h2>Daily jobs</h2>

        <ul id="dailyList"> <li></li>
        </ul>
        <div id="jobs">
        </div>
    
    </section>

    <!-- display section for weekly jobs -->
    <section id="week">

        <h2>Family responsibilities</h2>
          <table id="weekly">
            <tr><th></th>
              <th>Sunday</th>
              <th>Monday</th>
              <th>Tuesday</th>
              <th>Wednesday</th>
              <th>Thursday</th>
              <th>Friday</th>
              <th>Saturday</th>
            </tr>
            <tr id="breakfast">
              <!-- <td></td>
              <td></td>
              <td></td>
              <td></td>
              <td></td>
              <td></td>
              <td></td>
              <td></td> -->
            </tr>
            <tr id="empty">
              <!-- <td>Empty the dishwasher</td>
              <td</td>
              <td></td>
              <td></td>
              <td></td>
              <td></td>
              <td></td>
              <td></td> -->
            </tr>
      
            <tr class="five">
              <td colspan="8">5 minutes</td>
            </tr>
            <tr class="five" id="play">
              <!-- <td>playroom</td>
              <td></td>
              <td></td>
              <td></td>
              <td></td>
              <td></td>
              <td></td>
              <td></td> -->
            </tr>
            <tr class="five" id="family">
              <!-- <td></td>
              <td></td>
              <td></td>
              <td></td>
              <td></td>
              <td></td>
              <td></td>
              <td></td> -->
            </tr>
            <tr class="five" id="outside">
              <!-- <td>Outside</td> -->
              <!-- <td></td>
              <td></td>
              <td></td>
              <td></td>
              <td></td>
              <td></td>
              <td></td> -->
            </tr>
            <tr class="five" id="bedroom">
              <!-- <td></td>
              <td></td>
              <td></td>
              <td></td>
              <td></td>
              <td></td>
              <td></td>
              <td></td> -->
            </tr>
        
            <tr id="together">
              <!-- <td>Complete together</td>
              <td></td>
              <td></td>
              <td></td>
              <td></td>
              <td>Special Projects</td>
              <td></td>
              <td>bathroom</td> -->
            </tr>
            <tr id="dinner">
              <!-- <td></td>
              <td></td>
              <td></td>
              <td></td>
              <td></td>
              <td></td>
              <td></td>
              <td></td> -->
            </tr>
            <tr id="clear">
              <!-- <td>Clear and wipe the table</td> -->
              <!-- <td></td>
              <td></td>
              <td></td>
              <td></td>
              <td></td>
              <td></td>
              <td></td> -->
            </tr>
            <tr id="washDishes">
              <!-- <td>Wash the dishes</td>
              <td></td>
              <td></td>
              <td></td>
              <td></td>
              <td></td>
              <td></td>
              <td></td> -->
            </tr>
          </table>
        <!-- </form> -->
    </section>


    <!-- display section for monthly jobs -->
    <section id="month">
      <h2>Monthly jobs</h2>
      <ul id="monthList">
        <li style="list-style-type: none">Date: Job - member</li>
      </ul>    
    </section>


  <!-- client-side javaScript -->
  <script>

    //this function displays the Daily jobs
    function daily() { 
      console.log('daily() called');
      //show the correct table/list
      document.getElementById('daily').style.display = "initial";
      document.getElementById('week').style.display  = "none";
      document.getElementById('month').style.display = "none";
      document.getElementById('jobs').innerHTML = "";

      document.body.style.backgroundColor = "lightblue";

      //get the assignments from the database
      var xmlHttpRequest = new XMLHttpRequest();
      xmlHttpRequest.onreadystatechange = function() {
        if ( xmlHttpRequest.readyState == XMLHttpRequest.DONE && xmlHttpRequest.status == 200 ) {

          //manipulate the DOM with the assignments 
          console.log('inside daily if statement');
          //turn json into an object
          var data = JSON.parse(xmlHttpRequest.responseText);

          //remove previous data
          do { 
            dailyList.removeChild(dailyList.lastElementChild);
          } while (dailyList.children.length);

          //loop through data and add a button to the list
          for (var i = 0; i < data.member.length - 1; i++) { 
            var item = document.createElement('li');
            var iButton = document.createElement('button');
            iButton.innerHTML = data.member[i].firstname;
            iButton.setAttribute("onclick", 'selectMember("' + data.member[i].firstname + '")');
            iButton.setAttribute("class", data.member[i].firstname);
            item.appendChild(iButton);

            dailyList.appendChild(item);
          }

          // document.getElementById("persons").innerHTML = xmlHttpRequest.responseText;
        }
      };

      //the json is from the database here
      xmlHttpRequest.open('GET', 'https://nate-node.herokuapp.com/daily', true);
      xmlHttpRequest.send();
    }


    // this function displays the Weekly job assignments
    function week() { 
      console.log('week() called');
      //show the correct table/list
      document.getElementById('daily').style.display = "none";
      document.getElementById('week').style.display  = "initial";
      document.getElementById('month').style.display = "none";

      document.body.style.backgroundColor = "lightskyblue";

      //get the assignments from the database
      var xmlHttpRequest = new XMLHttpRequest();
      xmlHttpRequest.onreadystatechange = function() {
        if (xmlHttpRequest.readyState == XMLHttpRequest.DONE && xmlHttpRequest.status == 200 ) {

          //manipulate the DOM with the assignments 
          console.log('inside if statement');
          var data = JSON.parse(xmlHttpRequest.responseText);

          //only populate if data doesn't already exist
          if (!dinner.children[4]) { 

            //first row id=breakfast
            var job = document.createElement('td');
            job.innerHTML = data.job[5].jobname;
            breakfast.appendChild(job);

            // create the days of the week
            for (var i = 0; i < data.breakfast.length; i++) { 
              var day = document.createElement('td');
              day.innerHTML = data.member[data.breakfast[i].nameid - 1].firstname;
              day.setAttribute("class", data.member[data.breakfast[i].nameid -1].firstname);
              breakfast.appendChild(day);
            }

            // var job = document.createElement('td');
            // job.innerHTML = data.job[5].jobname;
            // breakfast.appendChild(job);

            // var sun = document.createElement('td');
            // sun.innerHTML = "";
            // breakfast.appendChild(sun);

            // var mon = document.createElement('td');
            // mon.innerHTML = data.member[1].firstname ;
            // mon.setAttribute("class", data.member[1].firstname);
            // breakfast.appendChild(mon);

            // var tue = document.createElement('td');
            // tue.innerHTML = data.member[5].firstname;
            // tue.setAttribute("class", data.member[5].firstname);
            // breakfast.appendChild(tue);

            // var wed = document.createElement('td');
            // wed.innerHTML = data.member[4].firstname;
            // wed.setAttribute("class", data.member[4].firstname);
            // breakfast.appendChild(wed);

            // var thur = document.createElement('td');
            // thur.innerHTML = data.member[6].firstname;
            // thur.setAttribute("class", data.member[6].firstname);
            // breakfast.appendChild(thur);

            // var fri = document.createElement('td');
            // fri.innerHTML = data.member[0].firstname;
            // fri.setAttribute("class", data.member[0].firstname);
            // breakfast.appendChild(fri);

            // var sat = document.createElement('td');
            // sat.innerHTML = data.member[1].firstname;
            // sat.setAttribute("class", data.member[1].firstname);
            // breakfast.appendChild(sat);


            //second row id=empty
            var job = document.createElement('td');
            job.innerHTML = data.job[14].jobname;
            empty.appendChild(job);

            // create the days of the week
            for (var i = 0; i < data.empty.length; i++) { 
              var day = document.createElement('td');
              day.innerHTML = data.member[data.empty[i].nameid - 1].firstname;
              day.setAttribute("class", data.member[data.empty[i].nameid -1].firstname);
              empty.appendChild(day);
            }

            // var job = document.createElement('td');
            // job.innerHTML = data.job[1].jobname + "empty dishwasher";
            // empty.appendChild(job);

            // var sun = document.createElement('td');
            // sun.innerHTML = data.member[4].firstname;
            // sun.setAttribute("class", data.member[4].firstname);
            // empty.appendChild(sun);

            // var mon = document.createElement('td');
            // mon.innerHTML = data.member[2].firstname ;
            // mon.setAttribute("class", data.member[2].firstname);
            // empty.appendChild(mon);

            // var tue = document.createElement('td');
            // tue.innerHTML = data.member[2].firstname;
            // tue.setAttribute("class", data.member[2].firstname);
            // empty.appendChild(tue);

            // var wed = document.createElement('td');
            // wed.innerHTML = data.member[0].firstname;
            // wed.setAttribute("class", data.member[0].firstname);
            // empty.appendChild(wed);

            // var thur = document.createElement('td');
            // thur.innerHTML = data.member[2].firstname;
            // thur.setAttribute("class", data.member[2].firstname);
            // empty.appendChild(thur);

            // var fri = document.createElement('td');
            // fri.innerHTML = data.member[2].firstname;
            // fri.setAttribute("class", data.member[2].firstname);
            // empty.appendChild(fri);

            // var sat = document.createElement('td');
            // sat.innerHTML = data.member[5].firstname;
            // sat.setAttribute("class", data.member[5].firstname);
            // empty.appendChild(sat);

            

            // // row id=play
            // var job = document.createElement('td');
            // job.innerHTML = data.job[5].jobname + "playroom";
            // play.appendChild(job);

            // var sun = document.createElement('td');
            // sun.innerHTML = "";
            // play.appendChild(sun);

            // var mon = document.createElement('td');
            // mon.innerHTML = data.member[4].firstname ;
            // mon.setAttribute("class", data.member[4].firstname);
            // play.appendChild(mon);

            // var tue = document.createElement('td');
            // tue.innerHTML = "";
            // play.appendChild(tue);

            // var wed = document.createElement('td');
            // wed.innerHTML = data.member[5].firstname;
            // wed.setAttribute("class", data.member[5].firstname);
            // play.appendChild(wed);

            // var thur = document.createElement('td');
            // thur.innerHTML = "";
            // play.appendChild(thur);

            // var fri = document.createElement('td');
            // fri.innerHTML = data.member[6].firstname;
            // fri.setAttribute("class", data.member[6].firstname);
            // play.appendChild(fri);

            // var sat = document.createElement('td');
            // sat.innerHTML = "";
            // play.appendChild(sat);

            // // row id=play
            var job = document.createElement('td');
            job.innerHTML = data.job[15].jobname;
            play.appendChild(job);

            // create the days of the week
            for (var i = 0; i < data.play.length; i++) { 
              var day = document.createElement('td');
              day.innerHTML = data.member[data.play[i].nameid - 1].firstname;
              day.setAttribute("class", data.member[data.play[i].nameid -1].firstname);
              play.appendChild(day);
            }

            // row id=family
            var job = document.createElement('td');
            job.innerHTML = data.job[0].jobname;
            family.appendChild(job);

            // create the days of the week
            for (var i = 0; i < data.family.length; i++) { 
              var day = document.createElement('td');
              day.innerHTML = data.member[data.family[i].nameid - 1].firstname;
              day.setAttribute("class", data.member[data.family[i].nameid -1].firstname);
              family.appendChild(day);
            }

            // row id=outside
            var job = document.createElement('td');
            job.innerHTML = data.job[16].jobname;
            outside.appendChild(job);

            // create the days of the week for outside jobs
            for (var i = 0; i < data.outside.length; i++) { 
              var day = document.createElement('td');
              day.innerHTML = data.member[data.outside[i].nameid - 1].firstname;
              day.setAttribute("class", data.member[data.outside[i].nameid -1].firstname);
              outside.appendChild(day);
            }

            // row id=bedroom
            var job = document.createElement('td');
            job.innerHTML = data.job[2].jobname;
            bedroom.appendChild(job);

            // create the days of the week
            for (var i = 0; i < data.bedroom.length; i++) { 
              var day = document.createElement('td');
              day.innerHTML = data.member[data.bedroom[i].nameid - 1].firstname;
              day.setAttribute("class", data.member[data.bedroom[i].nameid -1].firstname);
              bedroom.appendChild(day);
            }


            // row id=together
            var job = document.createElement('td');
            job.innerHTML = "Complete together";
            together.appendChild(job);

            var sun = document.createElement('td');
            sun.innerHTML = "";
            together.appendChild(sun);

            var mon = document.createElement('td');
            mon.innerHTML = data.job[1].jobname;
            together.appendChild(mon);

            var tue = document.createElement('td');
            tue.innerHTML = data.job[2].jobname;
            together.appendChild(tue);

            var wed = document.createElement('td');
            wed.innerHTML = data.job[0].jobname ;
            together.appendChild(wed);

            var thur = document.createElement('td');
            thur.innerHTML = "Special Projects";
            together.appendChild(thur);

            var fri = document.createElement('td');
            fri.innerHTML = data.job[2].jobname;
            together.appendChild(fri);

            var sat = document.createElement('td');
            sat.innerHTML = "";
            together.appendChild(sat);


            // row id=dinner
            var job = document.createElement('td');
            job.innerHTML = data.job[4].jobname;
            dinner.appendChild(job);

            // create the days of the week
            for (var i = 0; i < data.dinner.length; i++) { 
              var day = document.createElement('td');
              day.innerHTML = data.member[data.dinner[i].nameid - 1].firstname;
              day.setAttribute("class", data.member[data.dinner[i].nameid -1].firstname);
              dinner.appendChild(day);
            }

            // row id=clear
            var job = document.createElement('td');
            job.innerHTML = data.job[3].jobname;
            clear.appendChild(job);

            // create the days of the week
            for (var i = 0; i < data.clear.length; i++) { 
              var day = document.createElement('td');
              day.innerHTML = data.member[data.clear[i].nameid - 1].firstname;
              day.setAttribute("class", data.member[data.clear[i].nameid -1].firstname);
              clear.appendChild(day);
            }

            // row id=washDishes
            var job = document.createElement('td');
            job.innerHTML = data.job[17].jobname;
            washDishes.appendChild(job);

            // create the days of the week
            for (var i = 0; i < data.wash.length; i++) { 
              var day = document.createElement('td');
              day.innerHTML = data.member[data.wash[i].nameid - 1].firstname;
              day.setAttribute("class", data.member[data.wash[i].nameid -1].firstname);
              washDishes.appendChild(day);
            }


            // var mon = document.createElement('td');
            // mon.innerHTML = data.member[] ;
            // mon.setAttribute("class", data.member[i].firstname);
            // item.appendChild(mon);

            // var tue = document.createElement('td');
            // tue.innerHTML = data.member[].firstname;
            // tue.setAttribute("class", data.member[].firstname);
            // item.appendChild(tue);

            // var wed = document.createElement('td');
            // wed.innerHTML = data.member[].firstname;
            // wed.setAttribute("class", data.member[].firstname);
            // item.appendChild(wed);

            // var thur = document.createElement('td');
            // thur.innerHTML = data.member[].firstname;
            // thur.setAttribute("class", data.member[].firstname);
            // item.appendChild(thur);

            // var fri = document.createElement('td');
            // fri.innerHTML = data.member[].firstname;
            // fri.setAttribute("class", data.member[].firstname);
            // item.appendChild(fri);

            // var sat = document.createElement('td');
            // sat.innerHTML = data.member[].firstname;
            // sat.setAttribute("class", data.member[].firstname);
            // item.appendChild(sat);

          }

          // document.getElementById("persons").innerHTML = xmlHttpRequest.responseText;
        }
      };

      //the json is from the database here
      xmlHttpRequest.open('GET', 'https://nate-node.herokuapp.com/week', true);
      xmlHttpRequest.send();
    }


    //this displays the weekly jobs
    function monthly() { 
      console.log('monthly() called');
      //show the correct table/list
      document.getElementById('daily').style.display = "none";
      document.getElementById('week').style.display  = "none";
      document.getElementById('month').style.display = "initial";

      document.body.style.backgroundColor = "rgb(155, 226, 240)";

      //get the assignments from the database
      var xmlHttpRequest = new XMLHttpRequest();
      xmlHttpRequest.onreadystatechange = function() {
        if ( xmlHttpRequest.readyState == XMLHttpRequest.DONE && xmlHttpRequest.status == 200 ) {

          //manipulate the DOM with the assignments 
          console.log('inside if statement');
          var data = JSON.parse(xmlHttpRequest.responseText);

          //remove previous data
          for (var i = monthList.children.length; i > 1; i--) {
            monthList.removeChild(monthList.lastElementChild);
          }

          //loop through data and add a button to the list
          for (var i = 0; i < data.date.length; i++) { 
            var item = document.createElement('li');
            item.innerHTML = data.date[i] + ": " + data.job[10 + i].jobname + " - ";
            var spanName = document.createElement('span');
            spanName.innerHTML = data.member[i+3].firstname;
            spanName.setAttribute("class", data.member[i+3].firstname);
            item.appendChild(spanName);

            monthList.appendChild(item);
          }

          // document.getElementById("persons").innerHTML = xmlHttpRequest.responseText;
        }
      };

      //the json is from the database here
      xmlHttpRequest.open('GET', 'https://nate-node.herokuapp.com/monthly', true);
      xmlHttpRequest.send();
    }


    function selectMember(dropdown) {
    console.log("received request for selectMember " + dropdown);

    switch (dropdown) { 
      case "Nate":
        console.log("Nate");
        var message = "Monday: Wash the dishes<br>Wednesday: Empty the dishwasher<br>Friday: Wash the dishes, Make dinner<br>";
        document.getElementById('jobs').innerHTML = message;
    
        break;
      case "Jen":
        console.log("Jen");
        var message = "Monday: Make breakfast, Make dinner<br>" + 
        "Tuesday: Wash the dishes<br>" + 
        "Wednesday: Wash the dishes<br>" + 
        "Thursday: Make dinner<br>" + 
        "Friday: Clear and Wipe the table<br>" + 
        "Saturday: Make breakfast, Wash the dishes<br>";
        document.getElementById('jobs').innerHTML = message;


        break;
      case "grandpa":
        console.log("grandpa");
        var message = "Thursday: Clear and Wipe the table<br>" + 
        "Saturday: Make dinner<br>";
        document.getElementById('jobs').innerHTML = message;


        break;
      case "grandma":
        console.log("grandma");
        var message = "Monday: Empty the dishwasher<br>" + 
        "Tuesday: Empty the dishwasher, Make dinner<br>" + 
        "Wednesday: Make dinner, Clear and Wipe the table<br>" + 
        "Thursday: Empty the dishwasher, Wash the dishes<br>" + 
        "Friday: Empty the dishwasher<br>" + 
        "Saturday: Make breakfast, Wash the dishes<br>";
        document.getElementById('jobs').innerHTML = message;

  
        break;
      case "Natalie":
        console.log("Natalie");
        var message = "Sunday: Emtpy the dishwasher<br>" + 
        "Monday: playroom<br>" + 
        "Tuesday: family room<br>" + 
        "Wednesday: Make breakfast, bedroom<br>" +  
        "Friday: family room<br>" + 
        "Saturday: bedroom<br>";
        document.getElementById('jobs').innerHTML = message;
    
  
        break;
      case "Ava":
        console.log("Ava");
        var message = "Monday: family room<br>" + 
        "Tuesday: Make breakfast, bedroom<br>" + 
        "Wednesday: playroom<br>" + 
        "Thursday: <br>" + 
        "Friday: Outside<br>" + 
        "Saturday: Empty the dishwasher<br>";
        document.getElementById('jobs').innerHTML = message;
        break;
      case "Corbin":
        console.log("Corbin");
        var message = "Monday: bedroom<br>" + 
        "Tuesday: Outside<br>" + 
        "Thursday: bedroom<br>" + 
        "Friday: playroom<br>";
        document.getElementById('jobs').innerHTML = message;
        break;
    }
  }

  function dailyJobs(nameId) { 




  }




  </script>
</body>
</html>